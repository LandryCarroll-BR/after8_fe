import { Container } from '@/components/Container'
import { Footer } from '@/components/Footer'
import { Header } from '@/components/Header'
import { usePageContext } from '@/hooks/usePageContext'
import parse from 'html-react-parser'
import Head from 'next/head'
import Image from 'next/image'
import Link from 'next/link'

function TheKnotSVG() {
  return (
    <svg width="120" height="48" viewBox="0 0 192.301 62.791">
      <defs>
        <clipPath id="clip-path">
          <rect
            id="Rectangle_26"
            data-name="Rectangle 26"
            width="192.301"
            height="62.791"
            transform="translate(0 0)"
            fill="#cc9cc8"
          />
        </clipPath>
      </defs>
      <g id="Group_6" data-name="Group 6" transform="translate(0 0)">
        <g id="Group_5" data-name="Group 5" clip-path="url(#clip-path)">
          <path
            id="Path_1"
            data-name="Path 1"
            d="M2.808,28.869s12.49-1.125,15.95-1.417C16.973,46.147,13,53.34,5.083,58.452c-1.145.655-3.9,2.13-3.65,2.607.36,1.138,5.227,1.785,6.165.861a29.511,29.511,0,0,0,9.977-11.933c.843,5.561,3.7,6.925,5.208,7.412a6.871,6.871,0,0,0,5.618-.99,15.67,15.67,0,0,0,4.657-5.072c-.06,1.33-.565,8.985.062,9.315,1.165.688,3.673-.067,3.9-.33.315-.81,1.423-6.053,1.585-6.618,4.448-11.9,6.613-14.983,7.98-16.659.8-1.071.955-.026.938.2s-.185,10.274-.185,10.274c0,5.074,1.162,7.711,3.485,9.112,1.872,1.131,4.387,1.1,7.425-.366,3.227,3.945,7.425,5.372,11.25,2.955C73.815,56.4,77.16,47.309,77.3,46.444s-1.031-1.435-1.3-.922c-.815,2.154-4.958,8.565-7.913,10.527a3.685,3.685,0,0,1-3.092.463,8.633,8.633,0,0,1-3.38-2.134c11.6-8.9,10.52-22.541,2.555-22.806-10.83.4-8.575,18.89-7.878,21.173-2.817.979-3.527.577-3.725.26-1.142-1.331-.987-6.788-.865-11.6,0-.038.093-5.237.093-5.237a4.417,4.417,0,0,0-1.275-3.6,2.967,2.967,0,0,0-2.6-.737c-2.553.477-5.735,4.948-10.205,14.983.038-1.7.08-4.6.08-4.75,7.05-11.858,9.16-22.621,9.16-27.433v-.745c0-2.22-.1-3.995-1.345-5.2a4.284,4.284,0,0,0-4.285-.922c-5.753,1.62-7.565,24.185-8.157,33.42-.64,6.11-5.088,13.39-9.076,11.865-1.745-.91-2.407-3.443-2.43-5.243v-.512c0-6.151,1.093-14.438,1.873-20.26,8.6-.733,8.172-.813,8.33-.838.868-.132,2.237-4.745.47-4.66a62.747,62.747,0,0,1-8.17.975c.173-1.137.62-4.109.62-4.109l.493-3.111v-.07c0-1.142-1.053-1.955-3.016-2.372L22.08,12.8l-.335.062-.332.143-.328.592L20.446,17.5s-.618,3.892-.841,5.284c-8.7.455-17.675.585-19.145.7-1.449.136.858,5.386,2.348,5.375m38.64-16.985c.947-2.017,2.16-1.155,2.228.543-.011,8.575-4.451,19.7-6.2,23.544.406-16.394,3.915-23.992,3.973-24.087M59.993,50.4a32.9,32.9,0,0,1,.342-9.8c.48-2.962,3.088-5.367,4.33-4.8,1.511.821,1.576,3,1.27,5.479-.747,5.552-5.409,9.057-5.942,9.122"
            fill="#cc9cc8"
          />
          <path
            id="Path_2"
            data-name="Path 2"
            d="M191.015,18.727c-1.995.233-8.015,1.42-14.885,2.283.149-1.315.9-6.238.9-6.238a.846.846,0,0,0,.015-.105c0-.455-.351-.98-1.792-2.005-1.368-.977-2.716-1.177-3.1-.362-.211,2.332-.717,7.337-.933,9.32-6.781.785-12.837,1.415-14.317,1.465-1.5.047-.058,5.255,2.012,5.1,0,0,9.013-1.23,11.777-1.595-.5,17.873-4.5,21.8-7.6,20.867,1.285-6.7-1.265-11.957-4.637-13.324-1.426-.606-5.44-.543-6.168,5.385A10.032,10.032,0,0,0,158.332,50.3c-2.347,9.072-13.017,7.217-11.807-2.326.782-6.223,2.778-9.427,4.347-11.2,1.678-1.832,3.185-2,3.185-2.271.69-.363-.449-3.268-1.614-2.711-3.531,1.9-6.636,4.006-9.058,12.048-1.02,3.93-2.548,9.107-3.877,10.937-1.346,1.622-1.891.355-2.018-.35-.677-4.235.347-14.084.347-14.084,0-3.278-.22-6.838-2.962-7.83-3.865-1.131-7.3,3.2-9.51,7.069.313-2.05.655-5.548.655-5.548l.025-.18c0-.327-.155-.937-1.128-1.389-.965-.433-3.552.227-3.552.227A29.586,29.586,0,0,1,121,36.38c-.988,6.26-2.2,18.907-11.038,18.135-4.87-.283-10.25-7.22-11.927-10.05,9.74-4.345,15.17-9.96,15.783-10.938.625-1.005-2.026-4.5-2.968-3.777-4.532,6.63-9.526,8.739-13.092,10.47.145-1.815.712-8.58.736-8.79,4.071-7.473,9.093-18.135,9.093-24.951A7.3,7.3,0,0,0,105.38,1.01a5.058,5.058,0,0,0-4.466-.781c-3.207,1.263-4.642,3.918-5.577,11.208-.01.033-1.272,12.468-1.272,12.468s-.488,5.417-.56,6.225c-1.74,2.79-6.29,9.338-6.29,9.455-.585.72,1.73,4.242,2.867,2.838,0,0,3.745-5.944,3.668-6-.175,1.82-1.74,13.785-1.74,13.785l-.938,9.273-.145,1.4c0,.937,1.166,1.084,1.653,1.173.76.081,3.205.3,3.485-.989.007-.087.793-7.2.884-11.612,2.786,4.96,7.188,8.432,12.681,8.769,3.273.191,7.563-1.889,8.867-3.552-1.08,4.345-1.577,6.58-1.538,6.668-.109,1.07,3.264,1.8,3.791,1.265.885-.725,5.105-19.576,10.13-23.951.308-.25,2.566-2.219,2.566,1.621-.154,2.762-.418,5.717-.418,7.3,0,5.593.418,11.643,5.33,11.643,2.339-.04,3.7-1.363,5.42-4.9,1.107,2.188,3.407,5.6,7.889,6.122,4.95.371,8.853-3.709,10.195-8.806a7.389,7.389,0,0,0,6.875-2.455c.031,1.154.068,2.3.068,2.3.09-.057.492,9.818,7.867,9.972,3.041.08,7.908-1.4,11.7-7.639.525-.82-2-4.965-2.685-3.722-.983,2.8-4.83,7.8-8.92,7.277-7.965-1.5-2.558-22.218-1.324-31.516,6.569-.94,14.524-2.089,15.381-2.354,1.63-.15,2.2-5.008.188-4.773M98.932,13.845A41.167,41.167,0,0,1,100,6.337c.543-1.815,1.62-1.97,2.183-1.842a2.373,2.373,0,0,1,1.827,2.667,32.445,32.445,0,0,1-1.852,7.613c-.98,2.907-2.92,7.1-4.033,9.985.325-3.138.563-7.728.805-10.915m59.41,24.527c1.45,1.79,1.943,6.7,1.145,8.3-3.041-1.2-3.745-5.922-3.745-7.418.073-1.965,1.776-1.965,2.6-.885"
            fill="#cc9cc8"
          />
        </g>
      </g>
    </svg>
  )
}

function WeddingWireSVG() {
  return (
    <svg width="321.43" height="48" viewBox="0 0 389.762 58.204">
      <g id="gen_logoHeader" transform="translate(-25.6 -281.3)">
        <circle
          id="Oval"
          cx="3.443"
          cy="3.443"
          r="3.443"
          transform="translate(51.324 300.528)"
          fill="#cc9cc8"
        />
        <circle
          id="Oval_1_"
          cx="4.222"
          cy="4.222"
          r="4.222"
          transform="translate(50.545 290.849)"
          fill="#cc9cc8"
        />
        <path
          id="Shape"
          d="M73.359,303.265a4.256,4.256,0,0,0-4.222,4.222,4.494,4.494,0,0,0,1.754,3.443,39.285,39.285,0,0,0-7.405,14.031v-8.25H61.731v8.12a37.822,37.822,0,0,0-7.341-13.966,3.973,3.973,0,0,0,1.754-3.443,4.222,4.222,0,1,0-4.222,4.222h.52c5.846,6.5,9.419,16.175,9.289,25.984h1.754c-.13-9.809,3.443-19.488,9.289-25.984h.52a4.19,4.19,0,0,0,.065-8.38Z"
          transform="translate(-7.744 -7.674)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_1_"
          d="M54.767,283.119a27.251,27.251,0,1,1-27.283,27.218A27.252,27.252,0,0,1,54.767,283.119Zm0-1.819a29.1,29.1,0,1,0,29.167,29.037A29.165,29.165,0,0,0,54.767,281.3Z"
          fill="#cc9cc8"
        />
        <path
          id="Shape_2_"
          d="M131.7,303.23h5.457l6.886,21.5,7.081-21.632h4.352l7.146,21.632,6.886-21.5h5.327l-10.069,29.3h-4.417L153.2,311.61l-7.146,20.917h-4.482Z"
          transform="translate(-37.177 -7.639)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_3_"
          d="M204.8,303.3h21.5v4.547H209.867v7.535h14.551v4.547H209.867v7.8h16.695v4.612H204.8Z"
          transform="translate(-62.791 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_4_"
          d="M246.9,303.3h10.848c9.159,0,15.4,6.236,15.4,14.486v.13c0,8.12-6.366,14.486-15.4,14.486H246.9V303.3Zm5.067,4.547V327.6h5.717c6.106,0,10.069-4.092,10.069-9.809v-.13c0-5.716-3.963-9.939-10.069-9.939h-5.717Z"
          transform="translate(-77.543 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_5_"
          d="M295.9,303.3h10.848c9.159,0,15.4,6.236,15.4,14.486v.13c0,8.12-6.366,14.486-15.4,14.486H295.9Zm5.132,4.547V327.6h5.716c6.106,0,10.069-4.092,10.069-9.809v-.13c0-5.716-3.963-9.939-10.069-9.939h-5.716Z"
          transform="translate(-94.712 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_6_"
          d="M345.1,303.3h5.132v29.037H345.1Z"
          transform="translate(-111.952 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_7_"
          d="M363.83,303.3h4.742L384.1,323.373V303.3h4.937v29.037h-4.287L368.7,311.68v20.657h-5V303.3Z"
          transform="translate(-118.469 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_8_"
          d="M411.6,317.636A14.836,14.836,0,0,1,426.606,302.5a15.816,15.816,0,0,1,11.173,3.963L434.6,310.3a11.573,11.573,0,0,0-8.12-3.053c-5.327,0-9.419,4.742-9.419,10.329v.13c0,5.976,3.963,10.459,9.939,10.459a12.478,12.478,0,0,0,7.016-2.144v-5.457h-7.405v-4.482h12.342v12.213a19.011,19.011,0,0,1-12.083,4.612C417.576,332.512,411.6,326.016,411.6,317.636Z"
          transform="translate(-135.253 -7.428)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_9_"
          d="M457.8,303.23h3.573l8.25,24.165,8.055-24.3h2.663l8.055,24.3,8.25-24.165h3.443l-10.459,29.3h-2.793l-7.99-23.581-8.055,23.581H468Z"
          transform="translate(-151.442 -7.639)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_10_"
          d="M530.5,303.3h3.313v29.037H530.5Z"
          transform="translate(-176.916 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_11_"
          d="M547.565,303.3h12.472c3.573,0,6.5,1.039,8.25,2.923a7.993,7.993,0,0,1,2.274,5.716v.13c0,4.807-3.313,7.665-7.925,8.51l8.9,11.823h-4.092l-8.38-11.3h-8.25v11.3H547.5V303.3Zm12.213,14.746c4.352,0,7.535-2.274,7.535-5.976v-.13c0-3.573-2.793-5.716-7.405-5.716h-8.9v11.823Z"
          transform="translate(-182.872 -7.709)"
          fill="#cc9cc8"
        />
        <path
          id="Shape_12_"
          d="M592.9,303.3h20.982v2.923H596.213v9.939h15.915v2.923H596.213v10.2h17.929v2.923H592.9Z"
          transform="translate(-198.78 -7.709)"
          fill="#cc9cc8"
        />
      </g>
    </svg>
  )
}

function HeroSection() {
  const pageData = usePageContext()
  const heroData = pageData.template.home.hero

  return (
    <section className="relative -mt-28 h-screen pb-28 pt-28">
      <Container className="flex min-h-full flex-col ">
        <span className="font-sans text-sm uppercase text-accent-500">
          {parse(heroData?.blurb)}
        </span>
        <div className="mt-auto flex flex-col items-end justify-end gap-7">
          <h1 className="text-right font-display text-3xl tracking-tightest text-accent-500 sm:text-5xl md:text-6xl lg:text-7xl">
            {heroData?.headingLine1}
            <br />
            <span className="text-gray-100">{heroData?.headingLine2}</span>
          </h1>

          <Link
            href={heroData?.cta?.url}
            className="w-full max-w-[250px] rounded-full border-2 border-accent-500 px-12 py-5 text-center font-sans text-sm font-bold uppercase text-accent-500 hover:bg-accent-500 hover:text-siteBackground"
          >
            {heroData?.cta?.title}
          </Link>
        </div>

        <Image
          src={heroData.bgImageDesktop?.sourceUrl}
          className="absolute right-0 top-0 -z-10 hidden object-cover mix-blend-lighten md:block"
          fill
        />

        <Image
          src={heroData.bgImageMobile?.sourceUrl}
          className="absolute right-0 top-0 -z-10 block object-cover mix-blend-lighten md:hidden"
          fill
        />
      </Container>
    </section>
  )
}

function FeaturedSection() {
  const pageData = usePageContext()
  const featuredData = pageData.template.home.content1

  return (
    <section className="my-28 h-[500px]">
      <Container>
        <div className="grid h-[500px] grid-cols-12 grid-rows-6 gap-6">
          <h2 className="z-10 col-span-12 row-span-1 font-display text-2xl tracking-tightest text-accent-500 sm:text-3xl md:text-4xl lg:col-span-9 lg:text-4xl">
            {featuredData?.heading}
          </h2>

          <div className="relative col-start-1 col-end-6 row-start-2 row-end-6">
            <Image
              src={featuredData?.image1?.sourceUrl}
              className="h-full w-full border border-accent-600 object-cover mix-blend-lighten"
              fill
            />
          </div>

          <div className="relative col-start-6 col-end-13 row-start-2 row-end-9 lg:col-end-10">
            <Image
              src={featuredData?.image2?.sourceUrl}
              className="h-full w-full border border-accent-600 object-cover mix-blend-lighten"
              fill
            />
          </div>

          <div className="relative col-start-10 col-end-13 row-start-1 row-end-9 hidden lg:block">
            <Image
              src={featuredData?.image3?.sourceUrl}
              className="h-full w-full border border-accent-600 object-cover mix-blend-lighten"
              fill
            />
          </div>

          <div className="col-start-1 col-end-6 row-start-6 row-end-9 flex flex-col items-center justify-center gap-6">
            <Link
              href={featuredData?.cta?.url}
              className="w-full rounded-full border-2 border-accent-500 px-12 py-5 text-center font-sans text-sm font-bold uppercase text-accent-500 hover:bg-accent-500 hover:text-siteBackground"
            >
              {featuredData?.cta?.title}
            </Link>
          </div>
        </div>
      </Container>
    </section>
  )
}

function AwardsSection() {
  const pageData = usePageContext()
  const awardSection = pageData.template.home.awards

  return (
    <section className="my-28 overflow-hidden border-y border-accent-500 lg:bg-accent-500">
      <Container>
        <div className="grid grid-cols-1 lg:grid-cols-3">
          <div className="relative z-10 flex flex-col justify-center bg-accent-500 py-10 text-siteBackground before:absolute before:-left-[100vw] before:-z-10 before:h-full before:w-screen before:bg-accent-500 after:absolute after:-right-[100vw] after:-z-10 after:h-full after:w-screen after:bg-accent-500 lg:pr-8 lg:after:hidden">
            <h2 className="font-sans font-bold">{awardSection.heading}</h2>

            <p className="font-sans">{awardSection.body}</p>
          </div>

          <div className="relative hidden flex-col items-center justify-center bg-siteBackground px-4 py-10 before:absolute before:-left-40 before:z-0 before:h-full before:w-screen before:bg-siteBackground lg:flex">
            <div className="relative z-10 flex flex-col items-center justify-center">
              <div className="-mt-1 mb-1 h-12">
                <TheKnotSVG />
              </div>
              <p className="mb-1 font-sans text-sm uppercase text-accent-500">
                Best Of Weddings
              </p>
              <p className="whitespace-pre font-sans text-gray-100">
                {awardSection.theknot}
              </p>
            </div>
          </div>

          <div className="relative hidden flex-col items-end justify-center bg-siteBackground py-10 pl-4 after:absolute after:-right-[100vw] after:-z-10 after:h-full after:w-screen after:bg-siteBackground lg:flex">
            <div className="relative z-10 flex flex-col items-center justify-center">
              <div className="-mb-1 mr-12 h-12">
                <WeddingWireSVG />
              </div>
              <p className="mb-1 font-sans text-sm uppercase text-accent-500">
                Couples Choice Award
              </p>
              <p className="whitespace-pre font-sans text-gray-100">
                {awardSection.weddingWire}
              </p>
            </div>
          </div>

          <div className="flex flex-col items-center justify-center gap-10 bg-siteBackground py-10 pl-4 md:flex-row lg:hidden">
            <div className="relative z-10 flex flex-col items-center justify-center ">
              <div className="-mt-2 mb-1 h-12">
                <TheKnotSVG />
              </div>
              <p className="mb-2 font-sans text-sm uppercase text-accent-500">
                Best Of Weddings
              </p>
              <p className="font-sans text-gray-100">{awardSection.theknot}</p>
            </div>

            <div className="relative z-10 flex flex-col items-center justify-center ">
              <div className="-mb-2 mr-6 h-12 md:mr-12">
                <WeddingWireSVG />
              </div>
              <p className="mb-2 font-sans text-sm uppercase text-accent-500">
                Couples Choice Award
              </p>
              <p className="font-sans text-gray-100 ">
                {awardSection.weddingWire}
              </p>
            </div>
          </div>
        </div>
      </Container>
    </section>
  )
}

function CTASection() {
  const pageData = usePageContext()
  const ctaSection = pageData.template.home.cta

  return (
    <section className=" relative my-16 flex flex-col items-center justify-center overflow-hidden pb-16 pt-36">
      <Container>
        <div className="relative mt-36 flex flex-col items-center justify-center gap-7">
          <h1 className="text-right font-display text-3xl tracking-tightest text-accent-500 sm:text-5xl md:text-6xl lg:text-7xl">
            {ctaSection.heading}
          </h1>

          <Link
            href="mailto:booking@after8music.com"
            className="w-full max-w-[250px] rounded-full border-2 border-accent-500 px-12 py-5 text-center font-sans text-sm font-bold uppercase text-accent-500 hover:bg-accent-500 hover:text-siteBackground"
          >
            {ctaSection.button.title}
          </Link>
        </div>
        <Image
          src={ctaSection.bgImage?.sourceUrl}
          className="absolute right-0 top-0 -z-10 object-cover mix-blend-lighten"
          fill
          sizes="100vw"
        />
      </Container>
    </section>
  )
}

export default function HomeTemplate() {
  const pageData = usePageContext()
  const seo = pageData.seo

  return (
    <>
      <Head>{parse(seo?.fullHead)}</Head>
      <Header />
      <HeroSection />
      <FeaturedSection />
      <AwardsSection />
      <CTASection />
      <Footer />
    </>
  )
}
